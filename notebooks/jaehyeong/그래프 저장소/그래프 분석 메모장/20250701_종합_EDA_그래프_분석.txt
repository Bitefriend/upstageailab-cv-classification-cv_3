1. 클래스별 데이터 분포 그래프 분석
[파일명: 클래스별 데이터 분포도 EDA_20250701_글자수정본.png]

✅ 관찰 내용
- 대부분 클래스는 100장으로 균형 맞춰져 있음
- 그러나 일부 클래스는 데이터 수가 적음
  예: statement_of_opinion, resume, application_for_payment_of_pregnancy_medical_expenses

✅ 의미
- Macro F1 Score를 사용하는 대회이므로, 적은 클래스도 중요함
- 적은 클래스에 대해 과소학습을 방지해야 함

✅ 모델링 고려사항
- 데이터 불균형 → Stratified Split (validation set 나눌 때 필수)
- 클래스별 학습 균형 유지 위해 가중치 적용 고려 (class_weight)
- 과소 클래스에 대해 데이터 증강(Augmentation) 전략 필요

────────────────────────────────────
🖼️ 2. 클래스별 이미지 시각화 분석
[파일명: 클래스별 이미지 시각화_20250701_ver2.png]

✅ 관찰 내용
- 일부 클래스(예: Label 2 - 차량 계기판)는 명확히 다른 시각적 특징을 가짐
- 대부분의 문서는 비슷한 레이아웃을 가짐 → OCR 기반 문서일 가능성
- Label 5, 8, 9는 ID 카드 계열로 유사함

✅ 의미
- 시각적으로 유사한 클래스는 모델이 혼동하기 쉬움
- 텍스트보다는 형태/배치/도장/테두리 등의 시각적 정보가 중요할 수 있음

✅ 모델링 고려사항
- 모델은 단순 CNN보다는 문서의 레이아웃을 잘 이해하는 구조가 유리
  (ex: ResNet + attention, Vision Transformer 계열)
- Class 간 혼동을 줄이기 위해 soft-label, label smoothing, focal loss 고려 가능

────────────────────────────────────
🖼️ 3. 이미지 해상도 분포 분석
[파일명: 이미지 해상도 분포 그래프.png]

✅ 관찰 내용
- 대부분의 문서가 width 440~460, height 600 전후
- 일부 outlier 존재 (width 600 이상, height 450 이하)

✅ 의미
- 정형화된 문서 → resize만 해도 충분한 전처리 가능
- 크기 차이가 심하지 않아 crop 없이도 모델 학습 가능

✅ 전처리 전략
- Resize: 384x512, 512x640, 600x800 중 선택 가능
- Aspect Ratio 유지하면서 padding or center crop 가능
- 대형 모델 사용 시 고해상도 유지도 고려 가능

────────────────────────────────────
📌 종합 코딩 설계 가이드라인

1. 학습 데이터 분리
   - train/validation split 시 stratify 적용 (라벨 균형 유지)

2. 데이터 전처리
   - Resize (예: 512x640) + Normalize
   - Augmentation: Horizontal Flip, ColorJitter 등

3. 모델 구조
   - 기본: EfficientNet, ResNet + attention
   - 확장: Swin Transformer, ViT

4. 손실 함수
   - 다중 클래스 + 불균형 대응 → CrossEntropy + class_weight or FocalLoss

5. 평가 지표
   - Macro F1 기준 → recall이 낮은 클래스도 고려 필요

6. 하이퍼파라미터
   - Batch size: 16~32 (GPU 메모리 고려)
   - Learning rate: 1e-3 or 5e-4 (warmup 가능)
   - Epochs: 20~50 (Early stopping 기반으로 조절)

────────────────────────────────────
[클래스별 평균 이미지 밝기 분석 요약]

✅ 분석 목적:
- 각 문서 클래스(class_name) 별로 샘플 이미지를 불러와 밝기(0~255)를 평균 계산하고,
  시각적 특징이 클래스 구분에 어떤 영향을 미칠 수 있는지 분석

────────────────────────────────────
🖼️ 분석 결과 주요 인사이트:

1. 📉 'car_dashboard'
   - 평균 밝기 약 70 이하로 가장 어두운 클래스
   - 차량 내부 계기판 사진으로, 조명 없이 촬영된 이미지로 추정됨

2. 📉 'vehicle_registration_plate'
   - 비교적 어두운 편 (밝기 약 110대)
   - 실외 촬영, 번호판 명암 대비로 인해 다소 어두운 경향

3. 📈 'medical_outpatient_certificate', 'prescription', 'payment_confirmation'
   - 평균 밝기 160~180 이상
   - 흰 종이 문서, 스캔 기반 문서로 매우 밝음

4. 📄 'national_id_card', 'passport', 'resume'
   - 중간 밝기 (130~150대)
   - 일반적인 컬러 이미지 기반 문서

────────────────────────────────────
📌 적용 가능한 전략

1. 전처리
   - 밝기 normalization / CLAHE (adaptive histogram equalization) 고려 가능
   - 밝기 편차가 큰 문서에 대해 대비 조정 or histogram matching 가능

2. Feature 활용
   - 평균 밝기 자체를 CNN 외부 feature로 활용 가능
   - ex: 밝기 평균, 표준편차, 히스토그램 skewness 등

3. Augmentation 전략
   - 어두운 클래스는 밝기 증가, 노이즈 제거 중심
   - 밝은 문서는 노이즈 추가 or 인쇄 효과 강화 등 적용

4. 모델 구조 측면
   - 문서 형태 기반 분류에 적합한 CNN 또는 attention 구조
   - 배경과 대비가 주요 특징인 클래스에 global pooling 구조도 유리

────────────────────────────────────
📅 분석 기준: 샘플링 당 클래스별 최대 10장 이미지 기준 (무작위)

────────────────────────────────────

[클래스별 평균 이미지 밝기 분석 요약 - 샘플 100장 기준]

✅ 분석 목적:
- 클래스(class_name)별로 무작위 100장씩 이미지를 샘플링하여,
  이미지의 평균 밝기(0~255)를 비교 → 시각적 분류 가능성 확인

────────────────────────────────────
🖼️ 주요 인사이트:

1. 📉 'car_dashboard'
   - 여전히 가장 어두운 클래스 (평균 밝기 70 전후)
   - 차량 내 야간 조명 없는 사진 → 확실한 시각적 특징

2. 📈 'payment_confirmation', 'prescription', 'medical_bill_receipts'
   - 평균 밝기 170~180대 → 매우 밝은 스캔 문서
   - 문서 배경이 하얗고, 스캔된 형태로 균일한 조명

3. 📄 'resume', 'statement_of_opinion', 'medical_outpatient_certificate'
   - 중상위권 밝기 (150~165대)
   - 일반 종이 문서 촬영 or 스캔

4. 📉 'vehicle_registration_plate'
   - 어두운 배경 & 그림자 영향으로 밝기 낮음 (~100)

────────────────────────────────────
📌 향후 적용 방안:

1. Feature Engineering
   - 클래스별 밝기 평균/표준편차를 모델에 직접 feature로 주입 가능
   - ex: 이미지 평균 밝기, 대비 등

2. 전처리
   - 밝기 normalize / histogram equalization 고려
   - 어두운 이미지: 밝기 조정 또는 contrast 증강
   - 밝은 문서: 인쇄 문서 효과 유지 필요

3. Augmentation 전략
   - 어두운 클래스 (차량/번호판 계열): 밝기 증가, gamma 보정
   - 밝은 클래스: noise injection 또는 blurring으로 다양화

4. 모델링 전략
   - 단순 CNN도 어느 정도 분류 가능할 정도의 시각적 분리 존재
   - 그러나 밝기 차이만으로는 부족한 경우 → OCR or text-like 구조 필요

────────────────────────────────────
📅 분석 기준:
- 클래스당 최대 100장 무작위 샘플
- grayscale 변환 후 평균 밝기 계산
